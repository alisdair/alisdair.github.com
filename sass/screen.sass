@import compass

+global-reset

$foreground-color: #222222
$background-color: #ffffff
$link-color:       #05c902
$highlight-color:  #ffffc8

$base-font-size: 16px
$base-line-height: 12px

$heading-font-sizes: 44px,28px,22px,18px,16px,16px

$grid-background-baseline-color:  rgba(0,0,0,0.05)
$grid-background-baseline-height: $base-line-height/$base-font-size * 1em 

+establish-baseline

html
  +adjust-leading-to(2)
  margin: 0 1em
  background: $background-color
  // +debug-vertical-alignment
  font-family: "Helvetica", sans-serif
  color: $foreground-color

@for $i from 1 through 6
  h#{$i}
    $font-size: nth($heading-font-sizes, $i)
    +adjust-font-size-to($font-size)
    +leader(2, $font-size)
    +trailer(1, $font-size)
    font-weight: bold

h1
  +trailer(2, nth($heading-font-sizes, 1))

p
  +trailer(2)

.footnote
  +adjust-font-size-to(12px)

a
  color: lighten($foreground-color, 25%)
  text-decoration: underline
  &:visited
    color: lighten($foreground-color, 50%)
  &:hover
    background: $link-color
    color: mix($link-color, $background-color, 0.75)

p code
  background: $highlight-color
  font-family: monospace

pre
  +trailer(2)
  +rhythm-borders(2px)
  background: transparentize($foreground-color, 0.1)
  border-color: mix($foreground-color, $background-color)
  font-family: monospace
  color: $background-color
  overflow: scroll

blockquote
  color: lighten($foreground-color, 25%)
  border-left: 0.5em solid mix($foreground-color, $background-color, 25%)
  margin-left: 1.5em
  margin-right: 1.5em
  padding-left: 1em

#site
  width: 40em
  margin: 0 auto
  +leader(1)

#title
  font-weight: bold
  @extend h1
  a
    color: $link-color
    text-decoration: none
    &:hover
      color: mix($link-color, $background-color)

#posts
  +leader(4)
  +trailer(2)

  time
    +leader(2)
    display: block

  a
    @extend h2
    +leader(0)
    display: block
    color: $foreground-color
    text-decoration: none
    background: $background-color
    &:hover
      background: darken($background-color, 10%)
      color: lighten($foreground-color, 10%)


#footer
  overflow: auto
  +leader(3)
  +padding-trailer(2)
  +leading-border(3px, 1)
  border-color: mix($foreground-color, $background-color)
  border-style: solid

  li
    width: 25%
    float: left
    text-align: center


@media screen and (max-width: 700px)
  #site
    width: 94%
  #title, h1
    +adjust-font-size-to(28px)
  h2
    +adjust-font-size-to(24px)
  #posts
    +leader(2)
  #post pre
    +adjust-font-size-to(10px)
  img
    max-width: 100%
  #footer
    +adjust-font-size-to(10px)