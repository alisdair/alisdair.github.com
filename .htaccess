# Mime type corrections
AddType application/x-font-woff .woff
AddType application/vnd.ms-fontobject .eot
AddType application/octet-stream .ttf
AddType text/css .css

# Cache fonts and images really hard
<IfModule mod_expires.c>
  Header set cache-control: public
  ExpiresActive on
  ExpiresByType font/ttf "access plus 1 year"
  ExpiresByType application/x-font-woff "access plus 1 year"
  ExpiresByType application/vnd.ms-fontobject "access plus 1 year"

  ExpiresByType image/svg+xml "access plus 1 month"
  ExpiresByType image/png "access plus 1 month"
  ExpiresByType image/jpeg "access plus 1 month"

  ExpiresByType text/css "access plus 1 week"
</IfModule>

# Compress all the appropriate mime types
<IfModule mod_deflate.c>
  AddOutputFilterByType DEFLATE text/html text/plain text/xml text/javascript text/css application/javascript application/vnd.ms-fontobject
</IfModule>


# Rewrites for old post URLs
RewriteEngine On
RewriteCond %{http_host} ^mcdiarmid.org [NC]
RewriteRule ^(.*)$ http://alisdair.mcdiarmid.org/$1 [R=301,NC,L]

# Old post on invisible proxies
RewriteRule ^2005/12/20/invisible-proxies-with-ruby /2012/08/31/invisible-proxies-with-ruby.html [R=301,NC]

# Better URL stub for SEO
RewriteRule ^2013/03/05/the-inner-beauty-of-tree-traversals-in-coffeescript.html /2013/03/05/tree-traversal-in-coffeescript.html [R=301,NC]
